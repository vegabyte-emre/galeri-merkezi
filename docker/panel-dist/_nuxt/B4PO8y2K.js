import{_}from"./DyRZUrWL.js";import{d as F,i as u,j as T,y as z,e as n,a as t,l as C,O as D,F as B,r as P,b as c,u as v,w as $,o as d,B as A,t as i,h as H}from"./DEjyqQKJ.js";import{u as L}from"./B27iJoBY.js";import{u as S}from"./wOfkbFz6.js";import{C as j}from"./DY-LUMgO.js";import{H as y}from"./BE_54XNe.js";import"./CBMyLIAc.js";const N={class:"space-y-6"},V={class:"flex items-center justify-between"},Y={class:"flex items-center gap-3"},G={key:0,class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},I=["onClick"],M={class:"h-48 bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center relative"},R=["onClick"],O={class:"p-6"},E={class:"text-xl font-bold text-gray-900 dark:text-white mb-2 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"},U={class:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-400 mb-4"},q={class:"flex items-center justify-between"},J={class:"text-2xl font-bold text-primary-600 dark:text-primary-400"},K={class:"text-xs text-gray-500 dark:text-gray-400"},Q={key:1,class:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700"},oe=F({__name:"favorites",setup(W){const g=L(),l=S(),m=u("date"),p=u(!1),o=u([]),x=T(()=>{const r=[...o.value];switch(m.value){case"price-asc":return r.sort((e,s)=>(e.vehicle?.basePrice||0)-(s.vehicle?.basePrice||0));case"price-desc":return r.sort((e,s)=>(s.vehicle?.basePrice||0)-(e.vehicle?.basePrice||0));case"year":return r.sort((e,s)=>(s.vehicle?.year||0)-(e.vehicle?.year||0));default:return r.sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime())}}),b=r=>new Date(r).toLocaleDateString("tr-TR"),f=async()=>{try{p.value=!0;const r=await g.get("/favorites");r.success&&r.data&&(o.value=r.data)}catch(r){l.error("Favoriler yüklenemedi: "+r.message)}finally{p.value=!1}},h=async r=>{try{await g.delete(`/favorites/${r}`),o.value=o.value.filter(e=>e.vehicleId!==r),l.success("Favorilerden kaldırıldı")}catch(e){l.error("Hata: "+e.message)}},k=async()=>{if(confirm("Tüm favorileri temizlemek istediğinize emin misiniz?"))try{for(const r of o.value)await g.delete(`/favorites/${r.vehicleId}`);o.value=[],l.success("Tüm favoriler temizlendi")}catch(r){l.error("Hata: "+r.message)}};return z(()=>{f()}),(r,e)=>{const s=_;return d(),n("div",N,[t("div",V,[e[2]||(e[2]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Favorilerim"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Beğendiğiniz araçları buradan yönetin")],-1)),t("div",Y,[C(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>m.value=a),class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-700 dark:text-gray-300"},[...e[1]||(e[1]=[t("option",{value:"date"},"Tarihe Göre",-1),t("option",{value:"price-asc"},"Fiyat: Düşükten Yükseğe",-1),t("option",{value:"price-desc"},"Fiyat: Yüksekten Düşüğe",-1),t("option",{value:"year"},"Yıla Göre",-1)])],512),[[D,m.value]]),t("button",{onClick:k,class:"px-4 py-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors font-semibold"}," Tümünü Temizle ")])]),o.value.length>0?(d(),n("div",G,[(d(!0),n(B,null,P(x.value,a=>(d(),n("div",{key:a.id,class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl transition-all cursor-pointer group",onClick:w=>r.$router.push(`/vehicles/${a.vehicleId}`)},[t("div",M,[c(v(j),{class:"w-24 h-24 text-white opacity-50"}),t("button",{onClick:A(w=>h(a.vehicleId),["stop"]),class:"absolute top-4 right-4 p-2 bg-white/90 dark:bg-gray-800/90 rounded-full hover:bg-white dark:hover:bg-gray-800 transition-colors shadow-lg"},[c(v(y),{class:"w-5 h-5 text-red-500 fill-current"})],8,R),e[3]||(e[3]=t("div",{class:"absolute top-4 left-4 px-3 py-1 bg-primary-500 text-white rounded-full text-xs font-semibold"}," Favori ",-1))]),t("div",O,[t("h3",E,i(a.vehicle?.brand)+" "+i(a.vehicle?.model),1),t("div",U,[t("span",null,i(a.vehicle?.year),1),e[4]||(e[4]=t("span",null,"•",-1)),t("span",null,i(a.vehicle?.mileage?.toLocaleString("tr-TR"))+" km",1)]),t("div",q,[t("div",J,i(a.vehicle?.basePrice?.toLocaleString("tr-TR"))+" ₺ ",1),t("div",K,i(b(a.createdAt)),1)])])],8,I))),128))])):(d(),n("div",Q,[c(v(y),{class:"w-24 h-24 text-gray-400 mx-auto mb-4"}),e[6]||(e[6]=t("h3",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},"Henüz Favori Yok",-1)),e[7]||(e[7]=t("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," Beğendiğiniz araçları favorilere ekleyerek kolayca erişebilirsiniz ",-1)),c(s,{to:"/marketplace",class:"inline-block px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all"},{default:$(()=>[...e[5]||(e[5]=[H(" Oto Pazarı'na Git ",-1)])]),_:1})]))])}}});export{oe as default};
