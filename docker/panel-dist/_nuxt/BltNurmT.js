import{d as F,i as n,j as E,e as s,a as o,m as M,l as v,b as i,h as N,u as l,O as f,v as R,k as G,F as j,r as A,o as a,B as h,t as u,c as O}from"./DEjyqQKJ.js";import{u as B}from"./B27iJoBY.js";import{U as D}from"./BtFLC1IR.js";import{S as Y}from"./R0cbHz-E.js";import{F as U}from"./MWIokpZ_.js";import{D as V}from"./BqL2hPjp.js";import{T as $}from"./C96TcNGw.js";import{C as K}from"./EO98-s8c.js";import"./CBMyLIAc.js";const q={class:"space-y-6"},H={class:"flex items-center justify-between"},Z={class:"flex items-center gap-3"},Q={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-4"},I={class:"flex items-center gap-4"},J={class:"flex-1"},P={class:"relative"},W={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4"},X=["onClick"],ee=["src","alt"],te={key:1,class:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary-400 to-primary-600"},oe={class:"absolute inset-0 bg-black/0 group-hover:bg-black/50 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100"},re={class:"flex items-center gap-2"},ae=["onClick"],se=["onClick"],le={key:2,class:"absolute top-2 right-2 w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center"},ie={class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2"},de={class:"text-white text-xs font-semibold truncate"},ne={class:"text-white/80 text-xs"},ce={key:1,class:"space-y-2"},ue=["onClick"],ge={class:"w-16 h-16 rounded-lg bg-gray-100 dark:bg-gray-700 flex items-center justify-center flex-shrink-0"},pe=["src","alt"],me={class:"flex-1 min-w-0"},ye={class:"font-semibold text-gray-900 dark:text-white truncate"},ve={class:"text-sm text-gray-500 dark:text-gray-400"},he={class:"flex items-center gap-2"},be=["onClick"],xe=["onClick"],ke={key:2,class:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700"},De=F({__name:"media",setup(fe){const w=n(!1),g=n(""),p=n(""),b=n("date-desc"),x=n("grid"),m=n([]),y=n([{id:1,name:"bmw-320i-front.jpg",type:"image",url:"https://via.placeholder.com/300",size:2456789,uploadedAt:"2024-01-20T14:30:00"},{id:2,name:"mercedes-c200-side.jpg",type:"image",url:"https://via.placeholder.com/300",size:3124567,uploadedAt:"2024-01-20T13:15:00"},{id:3,name:"audi-a4-interior.jpg",type:"image",url:"https://via.placeholder.com/300",size:1890234,uploadedAt:"2024-01-19T16:45:00"},{id:4,name:"vehicle-specs.pdf",type:"document",url:"",size:456789,uploadedAt:"2024-01-19T12:00:00"}]),k=E(()=>{let r=y.value;if(g.value){const e=g.value.toLowerCase();r=r.filter(t=>t.name.toLowerCase().includes(e))}return p.value&&(r=r.filter(e=>e.type===p.value)),r=[...r].sort((e,t)=>{switch(b.value){case"date-asc":return new Date(e.uploadedAt).getTime()-new Date(t.uploadedAt).getTime();case"date-desc":return new Date(t.uploadedAt).getTime()-new Date(e.uploadedAt).getTime();case"name-asc":return e.name.localeCompare(t.name);case"name-desc":return t.name.localeCompare(e.name);case"size-desc":return t.size-e.size;default:return 0}}),r}),_=r=>r<1024?r+" B":r<1024*1024?(r/1024).toFixed(1)+" KB":(r/(1024*1024)).toFixed(1)+" MB",L=r=>new Date(r).toLocaleDateString("tr-TR"),C=r=>{const e=m.value.indexOf(r.id);e>-1?m.value.splice(e,1):m.value.push(r.id)},T=async r=>{try{const t=await B().get(`/media/${r}/download`,void 0,{responseType:"blob"}),d=window.URL.createObjectURL(t),c=document.createElement("a");c.href=d,c.download=y.value.find(S=>S.id===r)?.name||"download",document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(d)}catch(e){alert("İndirme başarısız: "+e.message)}},z=async r=>{if(confirm("Bu medyayı silmek istediğinize emin misiniz?"))try{await B().delete(`/media/${r}`),y.value=y.value.filter(t=>t.id!==r)}catch(e){alert("Hata: "+e.message)}};return(r,e)=>(a(),s("div",q,[o("div",H,[e[8]||(e[8]=o("div",null,[o("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Medya Kütüphanesi"),o("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Tüm görsellerinizi buradan yönetin")],-1)),o("div",Z,[o("button",{onClick:e[0]||(e[0]=t=>w.value=!0),class:"px-4 py-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all"},[i(l(D),{class:"w-4 h-4 inline mr-2"}),e[6]||(e[6]=N(" Yükle ",-1))]),v(o("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>x.value=t),class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-700 dark:text-gray-300"},[...e[7]||(e[7]=[o("option",{value:"grid"},"Grid",-1),o("option",{value:"list"},"Liste",-1)])],512),[[f,x.value]])])]),o("div",Q,[o("div",I,[o("div",J,[o("div",P,[i(l(Y),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),v(o("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>g.value=t),type:"text",placeholder:"Medya ara...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},null,512),[[R,g.value]])])]),v(o("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>p.value=t),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},[...e[9]||(e[9]=[o("option",{value:""},"Tüm Türler",-1),o("option",{value:"image"},"Görsel",-1),o("option",{value:"video"},"Video",-1),o("option",{value:"document"},"Döküman",-1)])],512),[[f,p.value]]),v(o("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>b.value=t),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},[...e[10]||(e[10]=[G('<option value="date-desc">En Yeni</option><option value="date-asc">En Eski</option><option value="name-asc">İsme Göre (A-Z)</option><option value="name-desc">İsme Göre (Z-A)</option><option value="size-desc">Boyut (Büyükten Küçüğe)</option>',5)])],512),[[f,b.value]])])]),x.value==="grid"?(a(),s("div",W,[(a(!0),s(j,null,A(k.value,t=>(a(),s("div",{key:t.id,class:"group relative aspect-square bg-gray-100 dark:bg-gray-700 rounded-xl overflow-hidden cursor-pointer hover:shadow-xl transition-all",onClick:d=>C(t)},[t.type==="image"?(a(),s("img",{key:0,src:t.url,alt:t.name,class:"w-full h-full object-cover"},null,8,ee)):(a(),s("div",te,[i(l(U),{class:"w-12 h-12 text-white opacity-50"})])),o("div",oe,[o("div",re,[o("button",{onClick:h(d=>T(t.id),["stop"]),class:"p-2 bg-white/90 rounded-lg hover:bg-white transition-colors"},[i(l(V),{class:"w-4 h-4 text-gray-900"})],8,ae),o("button",{onClick:h(d=>z(t.id),["stop"]),class:"p-2 bg-red-500/90 rounded-lg hover:bg-red-500 transition-colors"},[i(l($),{class:"w-4 h-4 text-white"})],8,se)])]),m.value.includes(t.id)?(a(),s("div",le,[i(l(K),{class:"w-4 h-4 text-white"})])):M("",!0),o("div",ie,[o("div",de,u(t.name),1),o("div",ne,u(_(t.size)),1)])],8,X))),128))])):(a(),s("div",ce,[(a(!0),s(j,null,A(k.value,t=>(a(),s("div",{key:t.id,class:"flex items-center gap-4 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all cursor-pointer",onClick:d=>C(t)},[o("div",ge,[t.type==="image"?(a(),s("img",{key:0,src:t.url,alt:t.name,class:"w-full h-full object-cover rounded-lg"},null,8,pe)):(a(),O(l(U),{key:1,class:"w-8 h-8 text-gray-400"}))]),o("div",me,[o("div",ye,u(t.name),1),o("div",ve,u(_(t.size))+" • "+u(L(t.uploadedAt)),1)]),o("div",he,[o("button",{onClick:h(d=>T(t.id),["stop"]),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},[i(l(V),{class:"w-4 h-4 text-gray-600 dark:text-gray-400"})],8,be),o("button",{onClick:h(d=>z(t.id),["stop"]),class:"p-2 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors"},[i(l($),{class:"w-4 h-4 text-red-600 dark:text-red-400"})],8,xe)])],8,ue))),128))])),k.value.length===0?(a(),s("div",ke,[i(l(D),{class:"w-24 h-24 text-gray-400 mx-auto mb-4"}),e[11]||(e[11]=o("h3",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},"Henüz Medya Yok",-1)),e[12]||(e[12]=o("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," İlk medyanızı yükleyerek başlayın ",-1)),o("button",{onClick:e[5]||(e[5]=t=>w.value=!0),class:"inline-block px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all"}," Medya Yükle ")])):M("",!0)]))}});export{De as default};
