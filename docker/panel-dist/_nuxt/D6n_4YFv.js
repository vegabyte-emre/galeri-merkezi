import{_ as z}from"./zclM4FaM.js";import{d as D,i as u,j as F,y as M,e as b,a as t,m as U,l as s,b as x,u as k,v as d,O as B,k as L,w as Y,F as $,r as j,B as E,o as c,h as I,n as K,t as g,G as P}from"./BjtbWQxw.js";import{u as R}from"./De5ev41G.js";import{u as H}from"./C6zue0OS.js";import{S as q}from"./DBJyHyeh.js";import{P as G}from"./CNxwWO1p.js";import{C as O}from"./Bv2-sIXZ.js";import"./CHpBCNpF.js";const Q={class:"space-y-6"},W={class:"flex items-center justify-between"},J={class:"flex items-center gap-3"},X={class:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg"},Z={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ee={class:"h-48 bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center relative"},te={class:"absolute top-3 right-3"},re={class:"p-6"},ae={class:"text-lg font-bold text-gray-900 dark:text-white mb-2"},le={class:"space-y-2 text-sm text-gray-600 dark:text-gray-400 mb-4"},se={class:"flex items-center gap-2"},oe={class:"font-medium text-gray-900 dark:text-white"},de={class:"flex items-center gap-2"},ie={class:"font-medium text-gray-900 dark:text-white"},ne={class:"flex items-center gap-2"},ue={class:"font-bold text-primary-600 dark:text-primary-400 text-lg"},ge={class:"flex items-center gap-2 pt-4 border-t border-gray-200 dark:border-gray-700"},ye=["onClick"],me=["onClick"],pe={class:"p-6 space-y-4"},be={class:"grid grid-cols-2 gap-4"},xe={class:"grid grid-cols-2 gap-4"},ce={class:"p-6 border-t border-gray-200 dark:border-gray-700 flex items-center justify-end gap-3"},Te=D({__name:"index",setup(ve){const v=R(),i=H(),f=u(!1),y=u(""),m=u(""),p=u(!1),h={published:"Aktif",draft:"Taslak",paused:"Duraklatıldı",archived:"Arşivlendi",sold:"Satıldı"},l=u({brand:"",model:"",year:null,km:null,price:null,description:""}),o=u([]),w=async()=>{f.value=!0;try{const a=await v.get("/vehicles");a.success&&a.data?o.value=a.data:Array.isArray(a)?o.value=a:o.value=[]}catch(a){console.error("Araçlar yüklenemedi:",a),i.error("Araçlar yüklenemedi: "+a.message),o.value=[]}finally{f.value=!1}},C=F(()=>{let a=o.value;if(y.value){const e=y.value.toLowerCase();a=a.filter(n=>n.brand.toLowerCase().includes(e)||n.model.toLowerCase().includes(e))}return m.value&&(a=a.filter(e=>e.status===m.value)),a}),V=async()=>{if(l.value.brand&&l.value.model&&l.value.year&&l.value.price)try{await v.post("/vehicles",{brand:l.value.brand,model:l.value.model,year:l.value.year,mileage:l.value.km||0,basePrice:l.value.price,description:l.value.description,fuelType:"benzin",transmission:"manuel",bodyType:"sedan",color:"Beyaz",vehicleCondition:"İkinci El",sellerType:"gallery"}),l.value={brand:"",model:"",year:null,km:null,price:null,description:""},p.value=!1,i.success("Araç başarıyla eklendi!"),await w()}catch(a){i.error("Hata: "+a.message)}else i.warning("Lütfen tüm gerekli alanları doldurun")},A=a=>{P(`/vehicles/${a}/edit`)},_=async a=>{if(confirm("Bu aracı silmek istediğinize emin misiniz?"))try{await v.delete(`/vehicles/${a}`);const e=o.value.findIndex(n=>n.id===a);e>-1&&o.value.splice(e,1),i.success("Araç başarıyla silindi!")}catch(e){i.error("Hata: "+e.message)}},T=a=>new Intl.NumberFormat("tr-TR").format(a||0),N=a=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(a||0);return M(()=>{w()}),(a,e)=>{const n=z;return c(),b("div",Q,[t("div",W,[e[13]||(e[13]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Araçlarım"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Araç envanterinizi yönetin")],-1)),t("div",J,[t("div",X,[x(k(q),{class:"w-4 h-4 text-gray-400"}),s(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>y.value=r),type:"text",placeholder:"Araç ara...",class:"bg-transparent border-0 outline-0 text-sm text-gray-700 dark:text-gray-300 placeholder-gray-400 w-64"},null,512),[[d,y.value]])]),s(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>m.value=r),class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-700 dark:text-gray-300"},[...e[11]||(e[11]=[L('<option value="">Tüm Durumlar</option><option value="published">Yayında</option><option value="draft">Taslak</option><option value="paused">Duraklatıldı</option><option value="archived">Arşivlendi</option><option value="sold">Satıldı</option>',6)])],512),[[B,m.value]]),x(n,{to:"/vehicles/new",class:"px-4 py-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all inline-flex items-center"},{default:Y(()=>[x(k(G),{class:"w-4 h-4 mr-2"}),e[12]||(e[12]=I(" Yeni Araç ",-1))]),_:1})])]),t("div",Z,[(c(!0),b($,null,j(C.value,r=>(c(),b("div",{key:r.id,class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl transition-all group"},[t("div",ee,[x(k(O),{class:"w-20 h-20 text-white opacity-50"}),t("div",te,[t("span",{class:K(["px-2 py-1 text-xs font-semibold rounded-full",{"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":r.status==="published","bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400":r.status==="draft"||r.status==="archived","bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":r.status==="paused","bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":r.status==="sold"}])},g(h[r.status]),3)])]),t("div",re,[t("h3",ae,g(r.brand)+" "+g(r.model),1),t("div",le,[t("div",se,[e[14]||(e[14]=t("span",null,"Yıl:",-1)),t("span",oe,g(r.year),1)]),t("div",de,[e[15]||(e[15]=t("span",null,"Km:",-1)),t("span",ie,g(T(r.mileage))+" km",1)]),t("div",ne,[e[16]||(e[16]=t("span",null,"Fiyat:",-1)),t("span",ue,g(N(r.base_price)),1)])]),t("div",ge,[t("button",{onClick:S=>A(r.id),class:"flex-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-semibold"}," Düzenle ",8,ye),t("button",{onClick:S=>_(r.id),class:"px-3 py-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors text-sm font-semibold"}," Sil ",8,me)])])]))),128))]),p.value?(c(),b("div",{key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e[10]||(e[10]=r=>p.value=!1)},[t("div",{class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e[9]||(e[9]=E(()=>{},["stop"]))},[e[23]||(e[23]=t("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[t("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Yeni Araç Ekle")],-1)),t("div",pe,[t("div",be,[t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Marka",-1)),s(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>l.value.brand=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"BMW"},null,512),[[d,l.value.brand]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Model",-1)),s(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>l.value.model=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"320i"},null,512),[[d,l.value.model]])])]),t("div",xe,[t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Yıl",-1)),s(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>l.value.year=r),type:"number",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"2020"},null,512),[[d,l.value.year,void 0,{number:!0}]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Km",-1)),s(t("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>l.value.km=r),type:"number",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"45000"},null,512),[[d,l.value.km,void 0,{number:!0}]])])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Fiyat",-1)),s(t("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>l.value.price=r),type:"number",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"850000"},null,512),[[d,l.value.price,void 0,{number:!0}]])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Açıklama",-1)),s(t("textarea",{"onUpdate:modelValue":e[7]||(e[7]=r=>l.value.description=r),rows:"3",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Araç açıklaması..."},null,512),[[d,l.value.description]])])]),t("div",ce,[t("button",{onClick:e[8]||(e[8]=r=>p.value=!1),class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"}," İptal "),t("button",{onClick:V,class:"px-4 py-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all"}," Kaydet ")])])])):U("",!0)])}}});export{Te as default};
