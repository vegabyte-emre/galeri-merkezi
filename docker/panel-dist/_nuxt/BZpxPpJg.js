import{_ as j}from"./zclM4FaM.js";import{u as M}from"./De5ev41G.js";import{u as $}from"./C6zue0OS.js";import{d as z,i as u,y as D,e as i,k as O,a as e,F as y,r as b,b as m,u as k,w as h,t as o,o as l,c as f,n as d,m as S,f as B,E as L,h as A,G as v,_ as U}from"./BjtbWQxw.js";import{T}from"./DS20-8N3.js";import{B as G,C as E}from"./CIWLYjNj.js";import{C as N}from"./Bv2-sIXZ.js";import{P as F}from"./CNxwWO1p.js";import{U as P}from"./DR9SstTP.js";import{D as Y}from"./DO5U6sdz.js";import{S as q}from"./DwE3ZBPl.js";import{U as H}from"./CypFFH1h.js";import{M as I}from"./Cd_Kh4pK.js";import"./CHpBCNpF.js";const K={class:"space-y-6"},W={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},J={class:"relative"},Q={class:"flex items-center justify-between mb-4"},X={class:"mb-1"},Z={class:"text-3xl font-bold text-gray-900 dark:text-white"},ee={key:0,class:"text-lg text-gray-500 dark:text-gray-400 ml-1"},te={class:"text-sm text-gray-600 dark:text-gray-400"},re={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ae={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700"},se={class:"h-64 flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20 rounded-xl"},oe={class:"text-center"},le={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700"},ie={class:"h-64 flex items-center justify-center bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl"},ne={class:"text-center"},de={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ge={class:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700"},ce={class:"flex items-center justify-between mb-6"},me={class:"space-y-4"},ue=["onClick"],ye={class:"w-20 h-20 rounded-xl overflow-hidden flex-shrink-0 shadow-lg group-hover:scale-105 transition-transform bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-800"},be=["src","alt"],pe={key:1,class:"w-full h-full flex items-center justify-center"},xe={class:"flex-1 min-w-0"},ke={class:"font-semibold text-gray-900 dark:text-white mb-1 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"},he={class:"flex items-center gap-3 text-sm text-gray-500 dark:text-gray-400"},fe={class:"font-semibold text-primary-600 dark:text-primary-400"},ve={class:"flex flex-col items-end gap-2"},_e={class:"space-y-6"},we={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700"},Ce={class:"space-y-3"},Se=["onClick"],Be={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Ae={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700"},Te={class:"mb-6"},Re={class:"text-sm text-gray-500 dark:text-gray-400"},Ve={class:"space-y-3"},je={class:"flex items-start justify-between mb-2"},Me={class:"text-sm font-semibold text-gray-900 dark:text-white"},$e={class:"text-xs text-gray-500 dark:text-gray-400"},ze={class:"text-sm font-bold text-primary-600 dark:text-primary-400"},De=z({__name:"index",setup(Oe){const g=M(),_=$(),w=u(!1),c=u([{icon:E,label:"Toplam Araç",value:"0",unit:"",change:"+0",changeClass:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400",gradient:"bg-gradient-to-br from-blue-400 to-blue-600",key:"totalVehicles",link:"/vehicles"},{icon:H,label:"Aktif Teklif",value:"0",unit:"",change:"+0",changeClass:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",iconBg:"bg-green-100 dark:bg-green-900/30",iconColor:"text-green-600 dark:text-green-400",gradient:"bg-gradient-to-br from-green-400 to-green-600",key:"activeOffers",link:"/offers"},{icon:I,label:"Okunmamış Mesaj",value:"0",unit:"",change:null,changeClass:"",iconBg:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400",gradient:"bg-gradient-to-br from-purple-400 to-purple-600",key:"unreadMessages",link:"/chats"},{icon:T,label:"Bu Ay Satış",value:"0",unit:"",change:"+0%",changeClass:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",iconBg:"bg-orange-100 dark:bg-orange-900/30",iconColor:"text-orange-600 dark:text-orange-400",gradient:"bg-gradient-to-br from-orange-400 to-orange-600",key:"monthlySales",link:"/reports"}]),C=u([{id:1,brand:"BMW",model:"320i",year:2020,km:"45.000",price:"850.000",status:"Aktif",image:"https://images.unsplash.com/photo-1555215695-3004980ad54e?w=200&h=200&fit=crop"},{id:2,brand:"Mercedes",model:"C200",year:2019,km:"60.000",price:"920.000",status:"Aktif",image:"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=200&h=200&fit=crop"},{id:3,brand:"Audi",model:"A4",year:2021,km:"30.000",price:"1.150.000",status:"Aktif",image:"https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=200&h=200&fit=crop"},{id:4,brand:"Volkswagen",model:"Passat",year:2018,km:"75.000",price:"650.000",status:"Beklemede",image:null}]),R=[{icon:F,label:"Yeni Araç Ekle",iconBg:"bg-primary-100 dark:bg-primary-900/30",iconColor:"text-primary-600 dark:text-primary-400",action:()=>v("/vehicles/new")},{icon:P,label:"Toplu Yükleme",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400",action:()=>v("/vehicles/bulk")},{icon:Y,label:"Rapor İndir",iconBg:"bg-green-100 dark:bg-green-900/30",iconColor:"text-green-600 dark:text-green-400",action:async()=>{try{const s=await g.get("/reports/export",void 0,{responseType:"blob"}),t=window.URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download=`rapor-${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(t),_.success("Rapor indirildi!")}catch(s){_.error("Rapor indirilemedi: "+s.message)}}},{icon:q,label:"Ayarlar",iconBg:"bg-gray-100 dark:bg-gray-700",iconColor:"text-gray-600 dark:text-gray-400",action:()=>v("/settings")}],p=u([{vehicle:"BMW 320i",from:"İstanbul Oto",price:"820.000",status:"Bekliyor"},{vehicle:"Mercedes C200",from:"Ankara Motors",price:"900.000",status:"Kabul"},{vehicle:"Audi A4",from:"İzmir Auto",price:"1.100.000",status:"Bekliyor"}]),V=async()=>{w.value=!0;try{const s=await g.get("/dashboard");if(s.success){if(s.stats){const t=c.value.find(r=>r.key==="totalVehicles");t&&s.stats.totalVehicles&&(t.value=s.stats.totalVehicles.value?.toString()||"0",t.change=s.stats.totalVehicles.change||"+0");const a=c.value.find(r=>r.key==="monthlySales");a&&s.stats.monthlySales&&(a.value=s.stats.monthlySales.value?.toString()||"0",a.change=s.stats.monthlySales.change||"+0%")}s.recentVehicles&&s.recentVehicles.length>0&&(C.value=s.recentVehicles.map(t=>({id:t.id,brand:t.brand,model:t.model,year:t.year,km:t.mileage?.toLocaleString("tr-TR")||"0",price:t.base_price?.toLocaleString("tr-TR")||"0",status:t.status==="published"?"Aktif":t.status==="draft"?"Taslak":"Beklemede",image:t.cover_image_url||null})))}try{const t=await g.get("/offers");if(t.success&&t.data){const a=c.value.find(r=>r.key==="activeOffers");if(a){const r=t.data.filter(n=>n.status==="pending"||n.status==="accepted").length;a.value=r.toString()}}}catch(t){console.error("Offers load error:",t)}try{const t=await g.get("/chats");if(t.success&&t.data){const a=c.value.find(r=>r.key==="unreadMessages");if(a){const r=t.data.reduce((n,x)=>n+(x.unread_count||0),0);a.value=r.toString()}}}catch(t){console.error("Chats load error:",t)}try{const t=await g.get("/offers?limit=5");t.success&&t.data&&t.data.length>0&&(p.value=t.data.map(a=>({vehicle:`${a.vehicle_brand||""} ${a.vehicle_model||""}`.trim()||"Araç",from:a.buyer_gallery_name||a.seller_gallery_name||"Galeri",price:a.price?.toLocaleString("tr-TR")||"0",status:a.status==="pending"?"Bekliyor":a.status==="accepted"?"Kabul":"Reddedildi"})))}catch(t){console.error("Recent offers load error:",t)}}catch(s){console.error("Dashboard verileri yüklenemedi:",s)}finally{w.value=!1}};return D(()=>{V()}),(s,t)=>{const a=j;return l(),i("div",K,[t[12]||(t[12]=O('<div class="bg-gradient-to-r from-primary-600 via-primary-700 to-primary-800 rounded-2xl p-8 text-white shadow-xl relative overflow-hidden" data-v-d59d0b24><div class="absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2" data-v-d59d0b24></div><div class="relative z-10" data-v-d59d0b24><h1 class="text-3xl font-bold mb-2" data-v-d59d0b24>Hoş Geldiniz, Galeri Adı</h1><p class="text-primary-100 text-lg" data-v-d59d0b24>Bugün işleriniz nasıl gidiyor? İşte özet bilgileriniz.</p></div></div>',1)),e("div",W,[(l(!0),i(y,null,b(c.value,(r,n)=>(l(),f(a,{key:r.label,to:r.link,class:"group relative bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border border-gray-100 dark:border-gray-700 cursor-pointer",style:L({animationDelay:`${n*100}ms`})},{default:h(()=>[e("div",{class:d(["absolute top-0 right-0 w-32 h-32 rounded-bl-full opacity-10",r.gradient])},null,2),e("div",J,[e("div",Q,[e("div",{class:d(["w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",r.iconBg])},[(l(),f(B(r.icon),{class:d(["w-6 h-6",r.iconColor])},null,8,["class"]))],2),r.change?(l(),i("span",{key:0,class:d(["text-xs font-semibold px-2 py-1 rounded-full",r.changeClass])},o(r.change),3)):S("",!0)]),e("div",X,[e("span",Z,o(r.value),1),r.unit?(l(),i("span",ee,o(r.unit),1)):S("",!0)]),e("div",te,o(r.label),1)])]),_:2},1032,["to","style"]))),128))]),e("div",re,[e("div",ae,[t[2]||(t[2]=e("div",{class:"flex items-center justify-between mb-6"},[e("div",null,[e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Satış Trendi"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Son 6 ay")]),e("select",{class:"px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300"},[e("option",null,"Son 6 Ay"),e("option",null,"Son 1 Yıl")])],-1)),e("div",se,[e("div",oe,[m(k(T),{class:"w-16 h-16 text-primary-400 mx-auto mb-2"}),t[1]||(t[1]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Grafik buraya gelecek",-1))])])]),e("div",le,[t[4]||(t[4]=e("div",{class:"mb-6"},[e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Teklif Durumu"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Bu ay")],-1)),e("div",ie,[e("div",ne,[m(k(G),{class:"w-16 h-16 text-green-400 mx-auto mb-2"}),t[3]||(t[3]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Grafik buraya gelecek",-1))])])])]),e("div",de,[e("div",ge,[e("div",ce,[t[6]||(t[6]=e("div",null,[e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Son Eklenen Araçlar"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Envanterinizdeki son araçlar")],-1)),m(a,{to:"/vehicles",class:"px-4 py-2 text-sm font-semibold text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/30 rounded-lg transition-colors"},{default:h(()=>[...t[5]||(t[5]=[A(" Tümünü Gör ",-1)])]),_:1})]),e("div",me,[(l(!0),i(y,null,b(C.value,(r,n)=>(l(),i("div",{key:n,class:"flex items-center gap-4 p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors group cursor-pointer",onClick:x=>s.$router.push(`/vehicles/${r.id}`)},[e("div",ye,[r.image?(l(),i("img",{key:0,src:r.image,alt:`${r.brand} ${r.model}`,class:"w-full h-full object-cover"},null,8,be)):(l(),i("div",pe,[m(k(N),{class:"w-10 h-10 text-gray-400 dark:text-gray-500"})]))]),e("div",xe,[e("h4",ke,o(r.brand)+" "+o(r.model),1),e("div",he,[e("span",null,o(r.year),1),t[7]||(t[7]=e("span",null,"•",-1)),e("span",null,o(r.km)+" km",1),t[8]||(t[8]=e("span",null,"•",-1)),e("span",fe,o(r.price)+" ₺",1)])]),e("div",ve,[e("span",{class:d(["px-2 py-1 text-xs font-semibold rounded-full",r.status==="Aktif"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400"])},o(r.status),3)])],8,ue))),128))])]),e("div",_e,[e("div",we,[t[9]||(t[9]=e("div",{class:"mb-6"},[e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Hızlı İşlemler"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Sık kullanılan işlemler")],-1)),e("div",Ce,[(l(),i(y,null,b(R,r=>e("button",{key:r.label,onClick:r.action,class:"w-full flex items-center gap-3 p-4 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 hover:from-primary-50 hover:to-primary-100 dark:hover:from-primary-900/30 dark:hover:to-primary-800/30 border border-gray-200 dark:border-gray-600 hover:border-primary-300 dark:hover:border-primary-700 transition-all duration-300 hover:scale-105 group"},[e("div",{class:d(["w-10 h-10 rounded-lg flex items-center justify-center",r.iconBg])},[(l(),f(B(r.icon),{class:d(["w-5 h-5",r.iconColor])},null,8,["class"]))],2),e("span",Be,o(r.label),1)],8,Se)),64))])]),e("div",Ae,[e("div",Te,[t[10]||(t[10]=e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Son Teklifler",-1)),e("p",Re,o(p.value.length)+" yeni teklif",1)]),e("div",Ve,[(l(!0),i(y,null,b(p.value,(r,n)=>(l(),i("div",{key:n,class:"p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer",onClick:t[0]||(t[0]=x=>s.$router.push("/offers"))},[e("div",je,[e("div",null,[e("h4",Me,o(r.vehicle),1),e("p",$e,o(r.from),1)]),e("span",{class:d(["px-2 py-1 text-xs font-semibold rounded-full",r.status==="Bekliyor"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400"])},o(r.status),3)]),e("p",ze,o(r.price)+" ₺",1)]))),128))]),m(a,{to:"/offers",class:"block mt-4 text-center text-sm font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300"},{default:h(()=>[...t[11]||(t[11]=[A(" Tüm Teklifleri Gör → ",-1)])]),_:1})])])])])}}}),Qe=U(De,[["__scopeId","data-v-d59d0b24"]]);export{Qe as default};
