import{d as C,B as y,i as g,f as n,b as t,e as l,u as z,C as V,k as m,l as b,v as c,n as w,t as p,D as G,w as k,m as u,p as S,o as f}from"./Ba7BxnQD.js";import{u as B,a as v}from"./791HxQVK.js";import{u as E}from"./CTQqU5So.js";import{C as N}from"./CQT9TYn7.js";const T={class:"min-h-[80vh] flex items-center justify-center py-12 px-4"},L={class:"max-w-md w-full"},M={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-8"},U={class:"text-center mb-8"},j={class:"w-16 h-16 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center mx-auto mb-4 shadow-lg"},D={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},H={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},O={class:"flex items-center justify-between"},Y={class:"flex items-center gap-2"},A=["disabled"],K={class:"text-center"},q={class:"text-sm text-gray-600 dark:text-gray-400"},R=C({__name:"login",setup(F){E({title:"Giris Yap - Otobia"});const h=B(),s=y({identifier:"",password:""}),r=y({identifier:"",password:""}),o=g(!1),x=g(!1),_=async()=>{if(r.identifier="",r.password="",!s.identifier){r.identifier="Email veya telefon numarasi gereklidir";return}if(!s.password){r.password="Sifre gereklidir";return}o.value=!0;try{const a=s.identifier.includes("@"),e=await h.post("/auth/login",{phone:a?void 0:s.identifier,email:a?s.identifier:void 0,password:s.password});if(e.success&&e.accessToken){const d=v("auth_token");d.value=e.accessToken;const i=v("user");i.value=e.user,window.location.href="http://localhost:3002"}else throw new Error("Giris basarisiz")}catch(a){console.error("Login error:",a),r.password=a.message||"Giris basarisiz. Lutfen bilgilerinizi kontrol edin."}finally{o.value=!1}};return(a,e)=>{const d=S;return f(),n("div",T,[t("div",L,[t("div",M,[t("div",U,[t("div",j,[l(z(N),{class:"w-8 h-8 text-white"})]),e[3]||(e[3]=t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," Hesabiniza Giris Yapin ",-1)),e[4]||(e[4]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Otobia platformuna hos geldiniz ",-1))]),t("form",{onSubmit:V(_,["prevent"]),class:"space-y-5"},[t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email veya Telefon ",-1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>s.identifier=i),type:"text",placeholder:"ornek@galeri.com veya +905551234567",class:w(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all",{"border-red-500":r.identifier}])},null,2),[[c,s.identifier]]),r.identifier?(f(),n("p",D,p(r.identifier),1)):b("",!0)]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Sifre ",-1)),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>s.password=i),type:"password",placeholder:"Sifrenizi girin",class:w(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all",{"border-red-500":r.password}])},null,2),[[c,s.password]]),r.password?(f(),n("p",H,p(r.password),1)):b("",!0)]),t("div",O,[t("label",Y,[m(t("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>x.value=i),type:"checkbox",class:"w-4 h-4 text-primary-600 rounded"},null,512),[[G,x.value]]),e[7]||(e[7]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Beni hatirla",-1))]),l(d,{to:"/forgot-password",class:"text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300"},{default:k(()=>[...e[8]||(e[8]=[u(" Sifremi Unuttum ",-1)])]),_:1})]),t("button",{type:"submit",disabled:o.value,class:"w-full px-4 py-3 bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},p(o.value?"Giris yapiliyor...":"Giris Yap"),9,A)],32),e[11]||(e[11]=t("div",{class:"my-6 flex items-center"},[t("div",{class:"flex-1 border-t border-gray-300 dark:border-gray-600"}),t("span",{class:"px-4 text-sm text-gray-500 dark:text-gray-400"},"veya"),t("div",{class:"flex-1 border-t border-gray-300 dark:border-gray-600"})],-1)),t("div",K,[t("p",q,[e[10]||(e[10]=u(" Hesabiniz yok mu? ",-1)),l(d,{to:"/register",class:"font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300"},{default:k(()=>[...e[9]||(e[9]=[u(" Kayit Olun ",-1)])]),_:1})])])])])])}}});export{R as default};
