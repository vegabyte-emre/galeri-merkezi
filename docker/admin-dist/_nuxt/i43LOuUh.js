import{_ as B}from"./CknOk1KL.js";import{u as i}from"./D0_PazS5.js";import{u as G}from"./oAyxGMvK.js";import{d as L,G as $,H as j,p as y,v as z,e as d,C as m,a as t,b as u,w as b,t as r,n as p,F as H,r as K,o as l,h as v,u as N,c as R,f as E}from"./4jj4Bu4Q.js";import{A as U}from"./vtWUpfUD.js";import{C as V}from"./pNo8iLVM.js";import{U as F}from"./BKDShoHw.js";import{S as P}from"./CWnJ6pVn.js";import"./VCcvzI2M.js";const M={key:0,class:"space-y-6"},Y={class:"flex items-center justify-between"},q={class:"text-2xl font-bold text-gray-900 dark:text-white"},I={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},J={class:"lg:col-span-2 space-y-6"},O={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},Q={class:"grid grid-cols-2 gap-4"},W={class:"font-semibold text-gray-900 dark:text-white"},X={class:"font-semibold text-gray-900 dark:text-white"},Z={class:"font-semibold text-gray-900 dark:text-white"},tt={class:"font-semibold text-gray-900 dark:text-white"},et={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},st={class:"flex items-center gap-4"},at={class:"w-16 h-16 rounded-xl bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white font-semibold text-xl"},rt={class:"font-bold text-gray-900 dark:text-white"},ot={class:"text-sm text-gray-500 dark:text-gray-400"},lt={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},it={class:"space-y-3"},dt={class:"w-8 h-8 rounded-lg bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center flex-shrink-0"},nt={class:"flex-1"},gt={class:"font-medium text-gray-900 dark:text-white"},ut={class:"text-xs text-gray-500 dark:text-gray-400"},ct={class:"space-y-6"},xt={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},yt={class:"space-y-4"},mt={class:"flex items-center justify-between"},bt={class:"font-semibold text-gray-900 dark:text-white"},pt={class:"flex items-center justify-between"},vt={class:"font-semibold text-gray-900 dark:text-white"},kt={class:"flex items-center justify-between"},ft={class:"font-semibold text-gray-900 dark:text-white"},ht={class:"flex items-center justify-between"},wt={class:"font-semibold text-gray-900 dark:text-white"},_t={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},Ct={class:"space-y-2"},Ht=L({__name:"[id]",setup(St){const k=$(),n=j(),o=G(),f={admin:"Admin",gallery_owner:"Galeri Sahibi",user:"Kullanıcı"},s=y(null),h=y([{icon:V,action:"Yeni araç eklendi",timestamp:"2024-01-20T14:30:00"},{icon:F,action:"Teklif gönderildi",timestamp:"2024-01-20T12:15:00"},{icon:P,action:"Ayarlar güncellendi",timestamp:"2024-01-19T16:45:00"}]);z(async()=>{try{const a=i();s.value=await a.get(`/users/${k.params.id}`)}catch(a){o.error("Kullanıcı bilgileri yüklenemedi: "+a.message),n.push("/users")}});const c=a=>new Date(a).toLocaleDateString("tr-TR"),w=a=>new Date(a).toLocaleString("tr-TR"),_=()=>{n.push(`/users/${s.value?.id}/edit`)},C=async()=>{if(confirm("Bu kullanıcıyı silmek istediğinize emin misiniz?"))try{await i().delete(`/users/${s.value?.id}`),o.success("Kullanıcı silindi!"),n.push("/users")}catch(a){o.error("Hata: "+a.message)}},S=async()=>{if(confirm("Bu kullanıcının şifresini sıfırlamak istediğinize emin misiniz?"))try{await i().post(`/users/${s.value?.id}/reset-password`),alert("Şifre sıfırlama e-postası gönderildi!")}catch(a){o.error("Hata: "+a.message)}},A=async()=>{if(s.value)try{const a=i(),e=s.value.status==="active"?"inactive":"active";await a.put(`/users/${s.value.id}/status`,{status:e}),s.value.status=e,o.success(`Kullanıcı durumu ${e==="active"?"aktif":"pasif"} olarak güncellendi!`)}catch(a){o.error("Hata: "+a.message)}},T=()=>{const a=s.value?.email;a&&(window.location.href=`mailto:${a}`)};return(a,e)=>{const x=B;return s.value?(l(),d("div",M,[t("div",Y,[t("div",null,[u(x,{to:"/users",class:"text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 mb-2 inline-flex items-center gap-1"},{default:b(()=>[u(N(U),{class:"w-4 h-4"}),e[0]||(e[0]=v(" Kullanıcılara Dön ",-1))]),_:1}),t("h1",q,r(s.value.name),1)]),t("div",{class:"flex items-center gap-3"},[t("button",{onClick:_,class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-semibold"}," Düzenle "),t("button",{onClick:C,class:"px-4 py-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors font-semibold"}," Sil ")])]),t("div",I,[t("div",J,[t("div",O,[e[7]||(e[7]=t("h2",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"Kullanıcı Bilgileri",-1)),t("div",Q,[t("div",null,[e[1]||(e[1]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Ad Soyad",-1)),t("div",W,r(s.value.name),1)]),t("div",null,[e[2]||(e[2]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"E-posta",-1)),t("div",X,r(s.value.email),1)]),t("div",null,[e[3]||(e[3]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Telefon",-1)),t("div",Z,r(s.value.phone||"-"),1)]),t("div",null,[e[4]||(e[4]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Rol",-1)),t("span",{class:p(["inline-block px-2 py-1 text-xs font-semibold rounded-full",{"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400":s.value.role==="admin","bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":s.value.role==="gallery_owner","bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400":s.value.role==="user"}])},r(f[s.value.role]),3)]),t("div",null,[e[5]||(e[5]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Durum",-1)),t("span",{class:p(["inline-block px-2 py-1 text-xs font-semibold rounded-full",s.value.status==="active"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400"])},r(s.value.status==="active"?"Aktif":"Pasif"),3)]),t("div",null,[e[6]||(e[6]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Kayıt Tarihi",-1)),t("div",tt,r(c(s.value.createdAt)),1)])])]),s.value.gallery?(l(),d("div",et,[e[9]||(e[9]=t("h2",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"Galeri Bilgileri",-1)),t("div",st,[t("div",at,r(s.value.gallery.name.charAt(0)),1),t("div",null,[t("div",rt,r(s.value.gallery.name),1),t("div",ot,r(s.value.gallery.location),1)]),u(x,{to:`/galleries/${s.value.gallery.id}`,class:"ml-auto px-4 py-2 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors font-semibold text-sm"},{default:b(()=>[...e[8]||(e[8]=[v(" Galeriyi Görüntüle ",-1)])]),_:1},8,["to"])])])):m("",!0),t("div",lt,[e[10]||(e[10]=t("h2",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"Son Aktiviteler",-1)),t("div",it,[(l(!0),d(H,null,K(h.value,(g,D)=>(l(),d("div",{key:D,class:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl"},[t("div",dt,[(l(),R(E(g.icon),{class:"w-4 h-4 text-primary-600 dark:text-primary-400"}))]),t("div",nt,[t("div",gt,r(g.action),1),t("div",ut,r(w(g.timestamp)),1)])]))),128))])])]),t("div",ct,[t("div",xt,[e[15]||(e[15]=t("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"İstatistikler",-1)),t("div",yt,[t("div",mt,[e[11]||(e[11]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Toplam Giriş",-1)),t("span",bt,r(s.value.totalLogins),1)]),t("div",pt,[e[12]||(e[12]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Son Giriş",-1)),t("span",vt,r(c(s.value.lastLogin)),1)]),t("div",kt,[e[13]||(e[13]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Araç Sayısı",-1)),t("span",ft,r(s.value.vehicleCount||0),1)]),t("div",ht,[e[14]||(e[14]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Teklif Sayısı",-1)),t("span",wt,r(s.value.offerCount||0),1)])])]),t("div",_t,[e[16]||(e[16]=t("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"Hızlı İşlemler",-1)),t("div",Ct,[t("button",{onClick:S,class:"w-full px-4 py-2 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 rounded-lg hover:bg-yellow-200 dark:hover:bg-yellow-900/50 transition-colors font-semibold text-sm"}," Şifreyi Sıfırla "),t("button",{onClick:A,class:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-semibold text-sm"},r(s.value.status==="active"?"Hesabı Askıya Al":"Hesabı Aktifleştir"),1),t("button",{onClick:T,class:"w-full px-4 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors font-semibold text-sm"}," E-posta Gönder ")])])])])])):m("",!0)}}});export{Ht as default};
