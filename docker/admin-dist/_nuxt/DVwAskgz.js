import{d as D,i,l as V,e as n,a as t,x as b,F as w,r as _,A,t as g,m as C,q as I,o,n as k,c as N,f as O}from"./DhZVrtZb.js";import{u as T}from"./B0egXiWe.js";import{u as F}from"./ZU3_NlSd.js";const S={class:"space-y-6"},U={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},q={class:"flex items-center justify-between mb-4"},L={class:"flex items-center gap-3"},G={class:"font-bold text-gray-900 dark:text-white"},J={class:"text-xs text-gray-500 dark:text-gray-400"},Q={class:"text-sm text-gray-600 dark:text-gray-400 mb-4"},R={class:"flex items-center gap-2"},W=["onClick"],X=["onClick"],Z=["onClick"],ee={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},te={class:"space-y-4"},ae={class:"font-semibold text-gray-900 dark:text-white"},re={class:"text-sm text-gray-500 dark:text-gray-400 font-mono"},se={class:"flex items-center gap-2"},oe=["onClick"],ne=["onClick"],le=["onClick"],ie={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-md w-full p-6"},de={class:"text-xl font-bold text-gray-900 dark:text-white mb-4"},ce={class:"space-y-4"},ge={class:"flex items-center justify-end gap-3 mt-6"},ye={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-md w-full p-6"},ue={class:"space-y-4"},me={class:"flex items-center justify-end gap-3 mt-6"},ve=D({__name:"integrations",setup(pe){const l=T(),s=F(),f=i(!1),u=i(!1),m=i(!1),v=i(null),d=i(""),c=i(""),p=i([]),y=i([]),h=async()=>{f.value=!0;try{const r=await l.get("/integrations");p.value=r.integrations||r||[]}catch(r){console.error("Entegrasyonlar yüklenemedi:",r),s.error("Entegrasyonlar yüklenemedi: "+r.message)}finally{f.value=!1}},P=async()=>{try{const r=await l.get("/api-keys");y.value=r.apiKeys||r||[]}catch(r){console.error("API anahtarları yüklenemedi:",r),s.error("API anahtarları yüklenemedi: "+r.message)}},$=async r=>{const a=p.value.find(e=>e.id===r);if(a)try{await l.post(`/integrations/${r}/connect`),a.connected=!0,s.success(`${a.name} bağlantısı kuruldu!`)}catch(e){s.error("Hata: "+e.message)}},B=async r=>{if(confirm("Bu entegrasyonun bağlantısını kesmek istediğinize emin misiniz?")){const a=p.value.find(e=>e.id===r);if(a)try{await l.post(`/integrations/${r}/disconnect`),a.connected=!1,s.success("Bağlantı kesildi!")}catch(e){s.error("Hata: "+e.message)}}},K=r=>{const a=p.value.find(e=>e.id===r);a&&(v.value=a,u.value=!0,d.value="")},z=async()=>{if(!d.value.trim()){s.warning("API anahtarı gereklidir");return}try{await l.post(`/integrations/${v.value.id}/configure`,{apiKey:d.value}),s.success("Yapılandırma kaydedildi!"),u.value=!1,d.value="",await h()}catch(r){s.error("Hata: "+r.message)}},j=r=>{navigator.clipboard.writeText(r),s.success("API anahtarı kopyalandı!")},Y=async r=>{if(confirm("Bu API anahtarını yenilemek istediğinize emin misiniz? Eski anahtar geçersiz olacaktır.")){const a=y.value.find(e=>e.id===r);if(a)try{const e=await l.post(`/api-keys/${r}/regenerate`);a.key=e.key,s.success("API anahtarı yenilendi!")}catch(e){s.error("Hata: "+e.message)}}},H=async r=>{if(confirm("Bu API anahtarını silmek istediğinize emin misiniz?"))try{await l.delete(`/api-keys/${r}`),y.value=y.value.filter(a=>a.id!==r),s.success("API anahtarı silindi!")}catch(a){s.error("Hata: "+a.message)}},M=()=>{c.value="",m.value=!0},E=async()=>{if(!c.value.trim()){s.warning("API anahtarı adı gereklidir");return}try{const r=await l.post("/api-keys",{name:c.value});y.value.push({id:r.id,name:r.name,key:r.key}),s.success("Yeni API anahtarı oluşturuldu!"),m.value=!1,c.value=""}catch(r){s.error("Hata: "+r.message)}};return V(()=>{h(),P()}),(r,a)=>(o(),n("div",S,[a[10]||(a[10]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Entegrasyonlar"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Üçüncü parti servislerle entegrasyonları yönetin")],-1)),t("div",U,[(o(!0),n(w,null,_(p.value,e=>(o(),n("div",{key:e.id,class:k(["bg-white dark:bg-gray-800 rounded-2xl shadow-lg border-2 p-6 transition-all",e.connected?"border-green-500":"border-gray-200 dark:border-gray-700"])},[t("div",q,[t("div",L,[t("div",{class:k(["w-12 h-12 rounded-xl flex items-center justify-center",e.iconBg])},[(o(),N(O(e.icon),{class:k(["w-6 h-6",e.iconColor])},null,8,["class"]))],2),t("div",null,[t("h3",G,g(e.name),1),t("p",J,g(e.category),1)])]),t("span",{class:k(["px-2 py-1 text-xs font-semibold rounded-full",e.connected?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400"])},g(e.connected?"Bağlı":"Bağlı Değil"),3)]),t("p",Q,g(e.description),1),t("div",R,[e.connected?b("",!0):(o(),n("button",{key:0,onClick:x=>$(e.id),class:"flex-1 px-4 py-2 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors font-semibold text-sm"}," Bağlan ",8,W)),e.connected?(o(),n("button",{key:1,onClick:x=>K(e.id),class:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-semibold text-sm"}," Yapılandır ",8,X)):b("",!0),e.connected?(o(),n("button",{key:2,onClick:x=>B(e.id),class:"px-4 py-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors font-semibold text-sm"}," Bağlantıyı Kes ",8,Z)):b("",!0)])],2))),128))]),t("div",ee,[a[6]||(a[6]=t("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"API Anahtarları",-1)),t("div",te,[(o(!0),n(w,null,_(y.value,e=>(o(),n("div",{key:e.id,class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl"},[t("div",null,[t("div",ae,g(e.name),1),t("div",re,g(e.key),1)]),t("div",se,[t("button",{onClick:x=>j(e.key),class:"px-3 py-1.5 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors font-semibold text-xs"}," Kopyala ",8,oe),t("button",{onClick:x=>Y(e.id),class:"px-3 py-1.5 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 rounded-lg hover:bg-yellow-200 dark:hover:bg-yellow-900/50 transition-colors font-semibold text-xs"}," Yenile ",8,ne),t("button",{onClick:x=>H(e.id),class:"px-3 py-1.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors font-semibold text-xs"}," Sil ",8,le)])]))),128)),t("button",{onClick:M,class:"w-full px-4 py-2 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors font-semibold"}," + Yeni API Anahtarı Oluştur ")])]),u.value?(o(),n("div",{key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:a[2]||(a[2]=A(e=>u.value=!1,["self"]))},[t("div",ie,[t("h3",de,g(v.value?.name)+" Yapılandırma ",1),t("div",ce,[t("div",null,[a[7]||(a[7]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," API Anahtarı ",-1)),C(t("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"API anahtarınızı girin"},null,512),[[I,d.value]])])]),t("div",ge,[t("button",{onClick:a[1]||(a[1]=e=>{u.value=!1,d.value=""}),class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"}," İptal "),t("button",{onClick:z,class:"px-4 py-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all"}," Kaydet ")])])])):b("",!0),m.value?(o(),n("div",{key:1,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:a[5]||(a[5]=A(e=>m.value=!1,["self"]))},[t("div",ye,[a[9]||(a[9]=t("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-4"}," Yeni API Anahtarı Oluştur ",-1)),t("div",ue,[t("div",null,[a[8]||(a[8]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," API Anahtarı Adı ",-1)),C(t("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>c.value=e),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Örn: Production API Key"},null,512),[[I,c.value]])])]),t("div",me,[t("button",{onClick:a[4]||(a[4]=e=>{m.value=!1,c.value=""}),class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"}," İptal "),t("button",{onClick:E,class:"px-4 py-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all"}," Oluştur ")])])])):b("",!0)]))}});export{ve as default};
