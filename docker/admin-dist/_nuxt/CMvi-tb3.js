import{d as x,z as p,i as h,e as l,a as r,b as k,u as v,A as _,m as u,x as c,q as g,n as f,t as n,o as d,y as G}from"./DhZVrtZb.js";import{u as z,a as b}from"./B0egXiWe.js";import{u as S}from"./ZU3_NlSd.js";import{u as B}from"./Cd_xbf7S.js";import{S as E}from"./C4sVdHMU.js";import"./BBSYxXC8.js";const T={class:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4"},V={class:"w-full max-w-md"},C={class:"text-center mb-8"},A={class:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-500 to-primary-600 shadow-lg mb-4"},N={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8"},Y={key:0,class:"mt-1 text-sm text-red-600"},j={key:0,class:"mt-1 text-sm text-red-600"},D=["disabled"],F=x({__name:"login",setup(L){B({title:"Giriş Yap - Süperadmin Paneli"});const w=z(),m=S(),a=p({email:"",password:""}),s=p({email:"",password:""}),i=h(!1),y=async()=>{if(s.email="",s.password="",!a.email){s.email="Email gereklidir";return}if(!a.password){s.password="Şifre gereklidir";return}i.value=!0;try{const t=await w.post("/api/v1/auth/login",{email:a.email,password:a.password});if(t.success&&t.accessToken){if(t.user?.role!=="superadmin")throw new Error("Bu panele sadece süperadmin erişebilir");const e=b("auth_token");e.value=t.accessToken;const o=b("user");o.value=t.user,m.success("Giriş başarılı!"),await G("/")}else throw new Error("Giriş başarısız")}catch(t){console.error("Login error:",t),s.password=t.message||"Giriş başarısız. Bilgilerinizi kontrol edin.",m.error(s.password)}finally{i.value=!1}};return(t,e)=>(d(),l("div",T,[r("div",V,[r("div",C,[r("div",A,[k(v(E),{class:"w-8 h-8 text-white"})]),e[2]||(e[2]=r("h1",{class:"text-2xl font-bold text-white"},"Otobia Admin",-1)),e[3]||(e[3]=r("p",{class:"text-gray-400 text-sm mt-1"},"Süperadmin Paneli",-1))]),r("div",N,[e[6]||(e[6]=r("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-6"},"Giriş Yap",-1)),r("form",{onSubmit:_(y,["prevent"]),class:"space-y-5"},[r("div",null,[e[4]||(e[4]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email ",-1)),u(r("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.email=o),type:"email",placeholder:"admin@otobia.com",class:f(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all",{"border-red-500":s.email}])},null,2),[[g,a.email]]),s.email?(d(),l("p",Y,n(s.email),1)):c("",!0)]),r("div",null,[e[5]||(e[5]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Şifre ",-1)),u(r("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>a.password=o),type:"password",placeholder:"Şifrenizi girin",class:f(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 transition-all",{"border-red-500":s.password}])},null,2),[[g,a.password]]),s.password?(d(),l("p",j,n(s.password),1)):c("",!0)]),r("button",{type:"submit",disabled:i.value,class:"w-full py-3 bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50"},n(i.value?"Giriş yapılıyor...":"Giriş Yap"),9,D)],32)])])]))}});export{F as default};
