import{d as v,p as n,v as k,e as i,a as t,b as f,h,u as _,F as w,r as C,o as l,t as a,n as z,E as p,D as T}from"./4jj4Bu4Q.js";import{u as $}from"./D0_PazS5.js";import{u as j}from"./oAyxGMvK.js";import{P as B}from"./C5Gqy1km.js";import"./VCcvzI2M.js";const D={class:"space-y-6"},E={class:"flex items-center justify-between"},M={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},N=["onClick"],P={class:"flex items-start justify-between mb-4"},V={class:"text-lg font-bold text-gray-900 dark:text-white mb-1"},A={class:"text-sm text-gray-500 dark:text-gray-400"},F={class:"mb-4"},S={class:"text-sm font-semibold text-gray-900 dark:text-white"},K={class:"mb-4"},L={class:"text-sm text-gray-700 dark:text-gray-300 line-clamp-2"},W={class:"flex items-center gap-2 pt-4 border-t border-gray-200 dark:border-gray-700"},Y=["onClick"],q=["onClick"],R=v({__name:"email-templates",setup(G){const d=$(),o=j(),x=n(!1),c=n(!1),g=n([]),b=async()=>{c.value=!0;try{const r=await d.get("/email-templates");g.value=r.templates||r||[]}catch(r){console.error("Şablonlar yüklenemedi:",r),o.error("Şablonlar yüklenemedi: "+r.message)}finally{c.value=!1}},m=r=>{T(`/email-templates/${r}`)},u=async r=>{try{const e=await d.get(`/email-templates/${r}/preview`),s=window.open("","_blank");s&&(s.document.write(e.html||e),s.document.close()),o.success("Önizleme açıldı!")}catch(e){o.error("Önizleme yüklenemedi: "+e.message)}};return k(()=>{b()}),(r,e)=>(l(),i("div",D,[t("div",E,[e[2]||(e[2]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"E-posta Şablonları"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Sistem e-postalarının şablonlarını yönetin")],-1)),t("button",{onClick:e[0]||(e[0]=s=>x.value=!0),class:"px-4 py-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all"},[f(_(B),{class:"w-4 h-4 inline mr-2"}),e[1]||(e[1]=h(" Yeni Şablon ",-1))])]),t("div",M,[(l(!0),i(w,null,C(g.value,s=>(l(),i("div",{key:s.id,class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-xl transition-all cursor-pointer",onClick:y=>m(s.id)},[t("div",P,[t("div",null,[t("h3",V,a(s.name),1),t("p",A,a(s.category),1)]),t("span",{class:z(["px-2 py-1 text-xs font-semibold rounded-full",s.status==="active"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400"])},a(s.status==="active"?"Aktif":"Pasif"),3)]),t("div",F,[e[3]||(e[3]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Konu",-1)),t("div",S,a(s.subject),1)]),t("div",K,[e[4]||(e[4]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Önizleme",-1)),t("div",L,a(s.preview),1)]),t("div",W,[t("button",{onClick:p(y=>m(s.id),["stop"]),class:"flex-1 px-4 py-2 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors font-semibold text-sm"}," Düzenle ",8,Y),t("button",{onClick:p(y=>u(s.id),["stop"]),class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-semibold text-sm"}," Önizle ",8,q)])],8,N))),128))])]))}});export{R as default};
